{"version":3,"file":"honorlockproctoring.min.js","sources":["../src/honorlockproctoring.js"],"sourcesContent":["const injectSdkScript = async() => {\n    // Inject CDN SDK Moodle Script\n    let scriptLoaded = false;\n    let sdkScript = document.createElement('script');\n    sdkScript.type = \"module\";\n    sdkScript.onload = () => {\n        // eslint-disable-next-line no-console\n        console.log('moodle script loaded!');\n        scriptLoaded = true;\n    };\n    sdkScript.src = \"https://unpkg.com/@honorlock/integration-sdk-js-moodle\";\n    document.getElementsByTagName('head')[0].appendChild(sdkScript);\n\n    const injectedAt = new Date();\n    return new Promise(function(resolve, reject) {\n        const poll = ()=> {\n            // 10s timeout\n            if (new Date().getTime() - injectedAt.getTime() > 10000) {\n                return reject('injectSdkScript timed out');\n            }\n\n            if (scriptLoaded) {\n                // eslint-disable-next-line no-console\n                console.log(\"honorlockproctoring::injectSdkScript sdk injected\");\n                return resolve();\n            }\n\n            return setTimeout(poll, 100);\n        };\n\n        poll();\n    });\n};\n\nexport const logDebug = (args) => {\n    // eslint-disable-next-line no-console\n    console.log('logDebug:', args);\n};\n\nexport const viewQuiz = async() => {\n    // eslint-disable-next-line no-console\n    console.log(\"honorlockproctoring::viewQuiz plugin func\");\n    await injectSdkScript();\n    window.MoodleFunctions.viewQuiz();\n};\n\nexport const examAuth = async(args) => {\n    // eslint-disable-next-line no-console\n    console.log(\"honorlockproctoring::examAuth plugin func\");\n    await injectSdkScript();\n    window.MoodleFunctions.examAuth(args);\n};\n\nexport const takeQuiz = async() => {\n    // eslint-disable-next-line no-console\n    console.log(\"honorlockproctoring::takeQuiz plugin func\");\n    await injectSdkScript();\n    window.MoodleFunctions.takeQuiz();\n};\n\nexport const quizSummary = async() => {\n    // eslint-disable-next-line no-console\n    console.log(\"honorlockproctoring::quizSummary plugin func\");\n    await injectSdkScript();\n    window.MoodleFunctions.quizSummary();\n};\n"],"names":["injectSdkScript","async","scriptLoaded","sdkScript","document","createElement","type","onload","console","log","src","getElementsByTagName","appendChild","injectedAt","Date","Promise","resolve","reject","poll","getTime","setTimeout","args","window","MoodleFunctions","viewQuiz","examAuth","takeQuiz","quizSummary"],"mappings":"yPAAMA,gBAAkBC,cAEhBC,cAAe,EACfC,UAAYC,SAASC,cAAc,UACvCF,UAAUG,KAAO,SACjBH,UAAUI,OAAS,KAEfC,QAAQC,IAAI,yBACZP,cAAe,GAEnBC,UAAUO,IAAM,yDAChBN,SAASO,qBAAqB,QAAQ,GAAGC,YAAYT,iBAE/CU,WAAa,IAAIC,YAChB,IAAIC,SAAQ,SAASC,QAASC,cAC3BC,KAAO,KAEL,IAAIJ,MAAOK,UAAYN,WAAWM,UAAY,IACvCF,OAAO,6BAGdf,cAEAM,QAAQC,IAAI,qDACLO,WAGJI,WAAWF,KAAM,KAG5BA,6BAIiBG,OAErBb,QAAQC,IAAI,YAAaY,yBAGLpB,UAEpBO,QAAQC,IAAI,mDACNT,kBACNsB,OAAOC,gBAAgBC,8BAGHvB,MAAAA,OAEpBO,QAAQC,IAAI,mDACNT,kBACNsB,OAAOC,gBAAgBE,SAASJ,yBAGZpB,UAEpBO,QAAQC,IAAI,mDACNT,kBACNsB,OAAOC,gBAAgBG,iCAGAzB,UAEvBO,QAAQC,IAAI,sDACNT,kBACNsB,OAAOC,gBAAgBI"}